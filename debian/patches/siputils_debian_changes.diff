#! /bin/sh /usr/share/dpatch/dpatch-run
## 02_siputils.dpatch by Torsten Marek <shlomme@debian.org>
Index: sip4-4.14.3/siputils.py
===================================================================
--- sip4-4.14.3.orig/siputils.py	2013-01-11 12:09:13.000000000 -0500
+++ sip4-4.14.3/siputils.py	2013-02-13 00:46:54.345833434 -0500
@@ -784,7 +784,8 @@
 
         libs.extend(self.optional_list("LIBS_WINDOWS"))
 
-        lflags.extend(self._platform_rpaths(rpaths.as_list()))
+        # Don't append any rpaths
+        #lflags.extend(self._platform_rpaths(rpaths.as_list()))
 
         # Save the transformed values.
         self.CFLAGS.set(cflags)
@@ -926,6 +927,15 @@
         clib is the library name in cannonical form.
         framework is set of the library is implemented as a MacOS framework.
         """
+        ##################################################################
+        # Generally, the linker is intelligent enough not to need this   #
+        # additional information!                                        #
+        # And Qt4's pkg-config and prl files are broken                  #
+        # Changed for Debian packaging, Torsten Marek <shlomme@gmx.net>  #
+        ##################################################################
+
+        return []
+
         if self.generator in ("MSVC", "MSVC.NET", "MSBUILD", "BMAKE"):
             prl_name = os.path.join(self.config.qt_lib_dir, clib + ".prl")
         elif sys.platform == "darwin" and framework:
