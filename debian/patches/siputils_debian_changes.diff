#! /bin/sh /usr/share/dpatch/dpatch-run
## 02_siputils.dpatch by Torsten Marek <shlomme@debian.org>
Index: sip-4.12/siputils.py
===================================================================
--- sip-4.12.orig/siputils.py	2011-01-05 18:12:04.968846002 +0100
+++ sip-4.12/siputils.py	2011-01-05 18:13:46.838846002 +0100
@@ -722,7 +722,8 @@
 
         libs.extend(self.optional_list("LIBS_WINDOWS"))
 
-        lflags.extend(self._platform_rpaths(rpaths.as_list()))
+        # Don't append any rpaths
+        #lflags.extend(self._platform_rpaths(rpaths.as_list()))
 
         # Save the transformed values.
         self.CFLAGS.set(cflags)
@@ -849,9 +850,19 @@
         """Return a list of additional libraries (in platform specific form)
         that must be linked with a library.
 
+
         clib is the library name in cannonical form.
         framework is set of the library is implemented as a MacOS framework.
         """
+        ##################################################################
+        # Generally, the linker is intelligent enough not to need this   #
+        # additional information!                                        #
+        # And Qt4's pkg-config and prl files are broken                  #
+        # Changed for Debian packaging, Torsten Marek <shlomme@gmx.net>  #
+        ##################################################################
+
+        return []
+        
         prl_libs = []
 
         if self.generator in ("MSVC", "MSVC.NET", "MSBUILD", "BMAKE"):
